{"ast":null,"code":"var _jsxFileName = \"F:\\\\Sushil\\\\quick-evac\\\\frontend\\\\src\\\\App.js\",\n  _s = $RefreshSig$();\nimport React, { useState } from 'react';\nimport { Container, Box, AppBar, Toolbar, Typography, useTheme } from '@mui/material';\nimport PhoneForm from './components/PhoneForm';\nimport LocationDisplay from './components/LocationDisplay';\nimport AlertBanner from './components/AlertBanner';\nimport EvacuationMap from './components/EvacuationMap';\nimport { getCurrentLocation } from './services/location';\nimport { locationApi } from './services/api';\nimport { jsxDEV as _jsxDEV, Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nfunction App() {\n  _s();\n  const theme = useTheme();\n  const [loading, setLoading] = useState(false);\n  const [error, setError] = useState(null);\n  const [locationData, setLocationData] = useState(null);\n  const [phoneNumber, setPhoneNumber] = useState('');\n  const handleSubmit = async phoneNumber => {\n    setPhoneNumber(phoneNumber);\n    setLoading(true);\n    setError(null);\n    try {\n      // Get user's current location\n      const coordinates = await getCurrentLocation();\n\n      // Check if the location is in a danger zone\n      const response = await locationApi.checkLocation({\n        phone_number: phoneNumber,\n        ...coordinates\n      });\n      setLocationData(response.data);\n    } catch (err) {\n      console.error('Error:', err);\n\n      // Set appropriate error message\n      if (typeof err === 'string') {\n        setError(err);\n      } else if (err.response && err.response.data) {\n        setError(err.response.data.message || 'An error occurred while processing your request.');\n      } else {\n        setError('An unexpected error occurred. Please try again.');\n      }\n    } finally {\n      setLoading(false);\n    }\n  };\n  const handleReset = () => {\n    setLocationData(null);\n    setPhoneNumber('');\n    setError(null);\n  };\n  const handleCloseError = () => {\n    setError(null);\n  };\n  return /*#__PURE__*/_jsxDEV(Box, {\n    sx: {\n      flexGrow: 1,\n      minHeight: '100vh',\n      bgcolor: 'background.default'\n    },\n    children: [/*#__PURE__*/_jsxDEV(AppBar, {\n      position: \"static\",\n      children: /*#__PURE__*/_jsxDEV(Toolbar, {\n        children: /*#__PURE__*/_jsxDEV(Typography, {\n          variant: \"h6\",\n          component: \"div\",\n          sx: {\n            flexGrow: 1\n          },\n          children: \"Quick Evac\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 71,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 70,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 69,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Container, {\n      maxWidth: \"md\",\n      sx: {\n        py: 4\n      },\n      children: [/*#__PURE__*/_jsxDEV(Box, {\n        sx: {\n          my: 4,\n          textAlign: 'center'\n        },\n        children: [/*#__PURE__*/_jsxDEV(Typography, {\n          variant: \"h4\",\n          component: \"h1\",\n          gutterBottom: true,\n          children: \"Emergency Evacuation Management\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 79,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Typography, {\n          variant: \"body1\",\n          color: \"text.secondary\",\n          paragraph: true,\n          children: \"Check if you're in a danger zone and receive evacuation instructions via SMS.\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 82,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 78,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(AlertBanner, {\n        message: error,\n        severity: \"error\",\n        title: \"Error\",\n        open: !!error,\n        onClose: handleCloseError\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 87,\n        columnNumber: 9\n      }, this), !locationData ? /*#__PURE__*/_jsxDEV(PhoneForm, {\n        onSubmit: handleSubmit,\n        loading: loading\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 96,\n        columnNumber: 11\n      }, this) : /*#__PURE__*/_jsxDEV(_Fragment, {\n        children: [/*#__PURE__*/_jsxDEV(LocationDisplay, {\n          locationData: locationData,\n          phoneNumber: phoneNumber,\n          onReset: handleReset\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 99,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(EvacuationMap, {\n          locationData: locationData\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 105,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true), /*#__PURE__*/_jsxDEV(Box, {\n        sx: {\n          mt: 8,\n          mb: 4,\n          textAlign: 'center'\n        },\n        children: /*#__PURE__*/_jsxDEV(Typography, {\n          variant: \"body2\",\n          color: \"text.secondary\",\n          children: [\"\\xA9 \", new Date().getFullYear(), \" Quick Evac - Empowering Efficient Evacuation Management\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 110,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 109,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 77,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 68,\n    columnNumber: 5\n  }, this);\n}\n_s(App, \"ak8zf/OWhzzOm7HBsPPEIUotp5k=\", false, function () {\n  return [useTheme];\n});\n_c = App;\nexport default App;\nvar _c;\n$RefreshReg$(_c, \"App\");","map":{"version":3,"names":["React","useState","Container","Box","AppBar","Toolbar","Typography","useTheme","PhoneForm","LocationDisplay","AlertBanner","EvacuationMap","getCurrentLocation","locationApi","jsxDEV","_jsxDEV","Fragment","_Fragment","App","_s","theme","loading","setLoading","error","setError","locationData","setLocationData","phoneNumber","setPhoneNumber","handleSubmit","coordinates","response","checkLocation","phone_number","data","err","console","message","handleReset","handleCloseError","sx","flexGrow","minHeight","bgcolor","children","position","variant","component","fileName","_jsxFileName","lineNumber","columnNumber","maxWidth","py","my","textAlign","gutterBottom","color","paragraph","severity","title","open","onClose","onSubmit","onReset","mt","mb","Date","getFullYear","_c","$RefreshReg$"],"sources":["F:/Sushil/quick-evac/frontend/src/App.js"],"sourcesContent":["import React, { useState } from 'react';\r\nimport { \r\n  Container, \r\n  Box, \r\n  AppBar, \r\n  Toolbar, \r\n  Typography, \r\n  useTheme \r\n} from '@mui/material';\r\nimport PhoneForm from './components/PhoneForm';\r\nimport LocationDisplay from './components/LocationDisplay';\r\nimport AlertBanner from './components/AlertBanner';\r\nimport EvacuationMap from './components/EvacuationMap';\r\nimport { getCurrentLocation } from './services/location';\r\nimport { locationApi } from './services/api';\r\n\r\nfunction App() {\r\n  const theme = useTheme();\r\n  const [loading, setLoading] = useState(false);\r\n  const [error, setError] = useState(null);\r\n  const [locationData, setLocationData] = useState(null);\r\n  const [phoneNumber, setPhoneNumber] = useState('');\r\n  \r\n  const handleSubmit = async (phoneNumber) => {\r\n    setPhoneNumber(phoneNumber);\r\n    setLoading(true);\r\n    setError(null);\r\n    \r\n    try {\r\n      // Get user's current location\r\n      const coordinates = await getCurrentLocation();\r\n      \r\n      // Check if the location is in a danger zone\r\n      const response = await locationApi.checkLocation({\r\n        phone_number: phoneNumber,\r\n        ...coordinates\r\n      });\r\n      \r\n      setLocationData(response.data);\r\n      \r\n    } catch (err) {\r\n      console.error('Error:', err);\r\n      \r\n      // Set appropriate error message\r\n      if (typeof err === 'string') {\r\n        setError(err);\r\n      } else if (err.response && err.response.data) {\r\n        setError(err.response.data.message || 'An error occurred while processing your request.');\r\n      } else {\r\n        setError('An unexpected error occurred. Please try again.');\r\n      }\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n  \r\n  const handleReset = () => {\r\n    setLocationData(null);\r\n    setPhoneNumber('');\r\n    setError(null);\r\n  };\r\n  \r\n  const handleCloseError = () => {\r\n    setError(null);\r\n  };\r\n  \r\n  return (\r\n    <Box sx={{ flexGrow: 1, minHeight: '100vh', bgcolor: 'background.default' }}>\r\n      <AppBar position=\"static\">\r\n        <Toolbar>\r\n          <Typography variant=\"h6\" component=\"div\" sx={{ flexGrow: 1 }}>\r\n            Quick Evac\r\n          </Typography>\r\n        </Toolbar>\r\n      </AppBar>\r\n      \r\n      <Container maxWidth=\"md\" sx={{ py: 4 }}>\r\n        <Box sx={{ my: 4, textAlign: 'center' }}>\r\n          <Typography variant=\"h4\" component=\"h1\" gutterBottom>\r\n            Emergency Evacuation Management\r\n          </Typography>\r\n          <Typography variant=\"body1\" color=\"text.secondary\" paragraph>\r\n            Check if you're in a danger zone and receive evacuation instructions via SMS.\r\n          </Typography>\r\n        </Box>\r\n        \r\n        <AlertBanner \r\n          message={error} \r\n          severity=\"error\" \r\n          title=\"Error\" \r\n          open={!!error}\r\n          onClose={handleCloseError}\r\n        />\r\n        \r\n        {!locationData ? (\r\n          <PhoneForm onSubmit={handleSubmit} loading={loading} />\r\n        ) : (\r\n          <>\r\n            <LocationDisplay \r\n              locationData={locationData} \r\n              phoneNumber={phoneNumber} \r\n              onReset={handleReset} \r\n            />\r\n            \r\n            <EvacuationMap locationData={locationData} />\r\n          </>\r\n        )}\r\n        \r\n        <Box sx={{ mt: 8, mb: 4, textAlign: 'center' }}>\r\n          <Typography variant=\"body2\" color=\"text.secondary\">\r\n            Â© {new Date().getFullYear()} Quick Evac - Empowering Efficient Evacuation Management\r\n          </Typography>\r\n        </Box>\r\n      </Container>\r\n    </Box>\r\n  );\r\n}\r\n\r\nexport default App;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}